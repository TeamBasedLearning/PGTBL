<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Boas Práticas - pgtbl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Boas Pr\u00e1ticas";
    var mkdocs_page_input_path = "contribuicao/boas_praticas.md";
    var mkdocs_page_url = "/contribuicao/boas_praticas/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> pgtbl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      


  
    
    
    
    
    
    

  <p class="caption">Sobre o projeto</p>


<ul class="" href="index">
  
    
      
<li class=" toctree-l1">
  <a href="../.." title="PGTBL"
      class="">
    PGTBL
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../../tap/" title="Termo de abertura"
      class="">
    Termo de abertura
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../../visao/" title="Visão do produto"
      class="">
    Visão do produto
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../../canvas/" title="Canvas"
      class="">
    Canvas
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../../lexicos/" title="Lexicos"
      class="">
    Lexicos
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../../cenarios/" title="Cenarios"
      class="">
    Cenarios
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../../sitemap/" title="Sitemap"
      class="">
    Sitemap
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../../storyboards/" title="StoryBoards"
      class="">
    StoryBoards
  </a>

  
  
</li>
    
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>



  
    
    
    
    
    
    

  <p class="caption">Contribuição</p>


<ul class="current" href="contribuicao/install">
  
    
      
<li class=" toctree-l1">
  <a href="../install/" title="Instalação"
      class="">
    Instalação
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../arquitetura/" title="Arquitetura"
      class="">
    Arquitetura
  </a>

  
  
</li>
    
      
<li class="current toctree-l1">
  <a href="./" title="Boas Práticas"
      class="current">
    Boas Práticas
  </a>

  
  
    
    
      
  
  
  <ul class="current subnav">
    
      

  
  
  


  <li class="current toctree-l2">
    
    <ul class="current subnav">
      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#1-tecnicas-de-programacao" title="Boas Práticas">1. Técnicas de programação</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#2-comentarios-e-docstring" title="Boas Práticas">2. Comentários e Docstring</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#3-clean-code" title="Boas Práticas">3. Clean Code</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#4-solid" title="Boas Práticas">4. SOLID</a>
  </li>

      
        

  
  


  <li class="toctree-l2 toc-item">
    <a href="#5-testes" title="Boas Práticas">5. Testes</a>
  </li>

      
    </ul>
  </li>

    
  </ul>

    
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../medicao/" title="Medição e análise"
      class="">
    Medição e análise
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../vev/" title="Verificação e Validação"
      class="">
    Verificação e Validação
  </a>

  
  
</li>
    
      
<li class=" toctree-l1">
  <a href="../config/" title="Configuração de software"
      class="">
    Configuração de software
  </a>

  
  
</li>
    
</ul>

<!--
 | This is a hacky way to pass setting from the template generator to the
 | javascript that drives the dropdown functionality
-->
<div style="width: 1px; height: 1px; visibility: none;">

</div>


      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">pgtbl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Contribuição &raquo;</li>
        
      
    
    <li>Boas Práticas</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/VictorArnaud/TBL/edit/master/docs/contribuicao/boas_praticas.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="boas-praticas-de-programacao">Boas práticas de programação</h1>
<hr />
<h2 id="1-tecnicas-de-programacao">1. Técnicas de programação</h2>
<hr />
<p>Programação defensiva é o reconhecimento de que os programas terão problemas e serão modificados</p>
<p>Oferece um conjunto de técnicas para prevenir potenciais problemas de código e tem como objetivo produzir códigos resilientes que respondam adequadamente em situações inesperadas e que seja compreensivel e fácil de dar manutenção</p>
<table>
<thead>
<tr>
<th>Técnica</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Estilo e Desing</strong></td>
<td>Comentarios (linhas, paragrafos, funções e estruturas de controle), nomes de variáveis, métodos e classes significativas</td>
</tr>
<tr>
<td><strong>Priorizar a clareza ao inves da concisão</strong></td>
<td>Tornar o código um livro e sempre priorize a simplicidade do código</td>
</tr>
<tr>
<td><strong>Não deixe os outros mexerem onde não devem</strong></td>
<td>Abuse de encapsulamentos privados ou publicos e etc...</td>
</tr>
<tr>
<td><strong>Verifique todos os valores de retorno</strong></td>
<td>Os testes devem verificar todos os valores possíves de retorno, utilize uma amostragem pequena que engloba praticamente todos os casos</td>
</tr>
<tr>
<td><strong>Manipule recursos</strong></td>
<td>Sempre que abrir um arquivo ou conexão ou etc... feche-o</td>
</tr>
<tr>
<td><strong>Inicialize todas as variáveis ao declarar</strong></td>
<td>Todas as variáveis devem ser inicializadas</td>
</tr>
<tr>
<td><strong>Declare as variáveis o mais tarde possível</strong></td>
<td>Sempre declare elas o mais perto possível de seu uso.</td>
</tr>
<tr>
<td><strong>Use sempre recursos padrões da linguagem</strong></td>
<td>Não reinvente a roda, a menos que seja necessário</td>
</tr>
<tr>
<td><strong>Use um sistema de logging</strong></td>
<td>Abuse dos logs/prints e etc...</td>
</tr>
<tr>
<td><strong>Siga o idioma da linguagem</strong></td>
<td>Códifique em inglês sempre.</td>
</tr>
<tr>
<td><strong>Verifique os limites númericos</strong></td>
<td>Faça um código defensivo que não quebre em um determinado limite númerico</td>
</tr>
<tr>
<td><strong>Use constantes</strong></td>
<td>Acabe com os números mágicos</td>
</tr>
<tr>
<td><strong>Decomposição em funções atômicas</strong></td>
<td>Sempre deixe as funções com o minimo de código possivel realizando apenas o que ela deve realizar.</td>
</tr>
<tr>
<td><strong>Utilize paragrafos de função</strong></td>
<td>Dentro de uma função separe-a em paragrafos</td>
</tr>
<tr>
<td><strong>Utilize tipagem</strong></td>
<td>Se a linguagem for de tipagem dinâmica tente arranjar um jeito de fazer o usuário usar somente o tipo desejado com código defensivo, exceções por exemplo.</td>
</tr>
<tr>
<td><strong>Cabeçalhos e docstring</strong></td>
<td>Documente seu código</td>
</tr>
<tr>
<td><strong>Tratamente de erros apropriados</strong></td>
<td>Trate os erros em nível apropriados usando exceptions</td>
</tr>
<tr>
<td><strong>Assertivas</strong></td>
<td>Use em partes do código em que o erro não pode ser permitido, tendo que fechar a aplicação caso ocorra.</td>
</tr>
<tr>
<td><strong>Assuma o pior</strong></td>
<td>Sempre assuma que o pior pode acontecer no seu código e prepare-o para suportar esses eventos.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2-comentarios-e-docstring">2. Comentários e Docstring</h2>
<hr />
<p>Sempre tenha como prioridade manter os comentários atualizados com as mudanças no código, e sempre comente em ingles!</p>
<h4 id="comentar-linha-individual">Comentar linha individual</h4>
<ul>
<li>Quando a linha de código é extremamente complicada e não há como simplificar</li>
<li>Quando registrar um erro já ocorrido em uma linha</li>
</ul>
<h4 id="comentar-paragrafo-de-codigo">Comentar paragrafo de código</h4>
<ul>
<li>No máximo duas linhas e escreve o por que em vez de como,</li>
<li>Utilize o comentário para preparar o leitor para o que vem a seguir,</li>
<li>Se for por motivo de performace, deixe claro o beneficio</li>
</ul>
<h4 id="comentar-declaracao-de-variaveis">Comentar declaração de variáveis</h4>
<ul>
<li>Descrever aspectos da variável que o nome não consegue representar,</li>
<li>Por exemplo, unidade de medida, o intervalo permitido para valores númericos, documentar variáveis globais</li>
<li>Devem ser separados da variável por pelo menos dois espaços.</li>
</ul>
<h4 id="comentar-estruturas-de-controle">Comentar estruturas de controle</h4>
<ul>
<li>Para estruturas de decisão como if e case, pode-se comentar o motivo da decisão e um resumo do resultado obtido,</li>
<li>No caso de loops, pode ser indicado o seu propósito, inclua sempre antes da estrutura de controle</li>
</ul>
<h4 id="docstrings">Docstrings</h4>
<ul>
<li>Escreva docstrings para todo módulo, função, classe e método público.</li>
<li>Elas não são necessárias para métodos "privados", mas é recomendável ter um comentário que explique o que ele faz.</li>
<li>Este comentário deve estar logo após a declaração do método privado.</li>
</ul>
<hr />
<h2 id="3-clean-code">3. Clean Code</h2>
<hr />
<h4 id="composicao-de-metodo">Composição de método</h4>
<p>Os métodos devem ser simplificados chamando outros métodos dentro dele, cada qual fazendo algo especifico</p>
<pre><code class="py">def primos_ate(n):
    cria_inteiros_desmarcados_ate(n)
    marca_multiplos()
    coloca_nao_marcados_no_resultado()
    return resultado
</code></pre>

<h4 id="metodos-explicativos">Métodos explicativos</h4>
<p>Os métodos devem encapsula alguma operação dentro de outro método que seja não muito clara, normalmente são operações associadas a um comentario que explique ela.</p>
<pre><code class="py">def destaca(palavra):
    palavra.cor_do_fundo(Cor.amarela)
</code></pre>

<h4 id="metodos-como-condicionais">Métodos como condicionais</h4>
<p>Criar um método ou atributo que encapsula uma expressão booleana para obter condicionais mais claros</p>
<pre><code class="py">def ainda_ha_dobras_a_serem_feitas():
    return dobra[inicio] != dobra[inicio+1] and inicio &lt; n
</code></pre>

<h4 id="evitar-estruturas-encadeadas">Evitar estruturas encadeadas</h4>
<p>Para cada estrutura de controle (if, switch, laços) crie um método para simplificar e não deixar elas encadeadas</p>
<pre><code class="py">def marca_multiplos():
    for candidato in range(0, limite + 1):
        marca_multiplos_se_nao_esta_marcado(candidato)

def marca_multiplos_se_nao_esta_marcado(candidato):
    if nao_marcado(candidato):
        marca_multiplos_de(candidato)

def marca_multiplos_de(primo):
    for multiplo in range(2*primo, limite + 1, primo):
        numeros[multiplo].marca()
</code></pre>

<h4 id="clausulas-guarda">Cláusulas guarda</h4>
<p>Criar um <strong>return if condicao(): ...</strong> para que não precise criar um else sem nada</p>
<pre><code class="py">def inicializa():
    return if ja_inicializado():
        # Implementação do código de inicialização
</code></pre>

<h4 id="objeto-metodo">Objeto Método</h4>
<p>Criar uma classe que encapsula uma operação complexa simplificando a original (cliente), basicamente toda a implementação ficará nessa classe nova e a classe que o cliente irá usar só tem os métodos necessários para o cliente saber, o padrão de projeto adapter faz isso.</p>
<pre><code class="py">class ImpressorDePrimo(object):

    def imprime_primo(self, n):
        primo = self.calcula_primo(n):
        print &quot;_________________&quot;
        print &quot;O primo numero&quot;, n, &quot;e&quot;, primo

    def calcula_primo(self, n):
        calculador = CalculadorDoEnesimoPrimo(n)
        return calculador.calcula()

class CalculadorDoEnesimoPrimo(object):

    enesimo_primo = 0

    def __init__(self, n):
        self.enesimo_primo = n

    def calcula():
        # Implementação do Crivo de erastotones
</code></pre>

<h4 id="evite-flags-como-argumentos">Evite flags como argumentos</h4>
<p>Para casos que tenha que passar flags de comparação como argumento para usar no if crie uma função para cada condição do if e retorne o resultado</p>
<pre><code class="py"># Errado
def rotaciona(angulo, sentido_horario):
    if(sentido_horario == True):
        this.angulo += angulo
    else:
        this.angulo -= angulo

def rotaciona_sentido_horario(angulo):
    this.angulo += angulo

def rotaciona_sentido_antihorario(angulo):
    this.angulo -= angulo
</code></pre>

<h4 id="objeto-como-parametro">Objeto como parâmetro</h4>
<p>Quando tiver passando vários argumentos passados para o construtor de uma classe, verifique se esses argumentos podem ser transformados em variáveis de instancia de outra classe para ser usado nela.</p>
<h4 id="parametros-como-variaveis-de-instancia">Parâmetros como variáveis de instáncia</h4>
<p>Localizar parâmetros muito utilizados pelos métodos de uma classe e transformá-lo em variável de instância  da propria classe (self.variavel).</p>
<h4 id="maximizar-coesao">Maximizar coesão</h4>
<p>Quebrar uma classe que não segue principios da responsabilidade única.</p>
<h4 id="delegacao-de-tarefa">Delegação de tarefa</h4>
<p>Transferir um método que utiliza dados de uma classe B para a classe B, se o método da classe A usa muitos dados da classe B, então provavelmente ele deve ser um método da classe B e não da A.</p>
<pre><code class="py">class CalculaReceita(object):

    def calcula_total_de_salarios(self):
        total = 0
        for empregado in empregados:
            total += empregado.salario_do_mes()
        return total

class Empregado(object):

    def salario_do_mes(self):
        return 0 if self.nao_trabalhou_esse_mes()
        return self.salario_por_hora * self.horas_trabalhadas + self.bonus
</code></pre>

<h4 id="objeto-centralizador">Objeto centralizador</h4>
<p>Criar uma classe que encapsula uma operação com alta dependencia entre classes, será um intermediario que fará a relação entre duas classes para diminuir o acoplamento de ambas, essa classe deve centralizar a comunicação dos objetos</p>
<hr />
<h2 id="4-solid">4. SOLID</h2>
<hr />
<h4 id="alta-coesao">Alta coesão</h4>
<p>É fator de qualidade de projeto e representa que cada classe tem sua respectiva responsabilidade bem definida</p>
<h4 id="baixo-acoplamento">Baixo acoplamento</h4>
<p>É fator de qualidade em um projeto que busca a medida de interdependência entre modulos, modulos com baixo acoplamento são mais independentes.</p>
<h4 id="single-responsability-principle">Single responsability principle</h4>
<p>Cada classe/metodo devem ter responsabilidades únicas, logo uma classe Conta não é responsavel por fazer transferencias, ela deve designar essa responsabilidade a classe de fazer transferencias, tornando as classe mais coesas.</p>
<h4 id="open-closed-principle">Open-closed principle</h4>
<p>Uma classe deve ser aberta a extensão (herança) e fechadas a modificações, é basicamente deixar sua classe ser extensivel, por exemplo, crio a classe Carro e crio várias outras classe que herdam de carro para extender essa classe, por exemplo, CarroSedan, CarroPopular, CarroQuebrado, CarroFeio, e etc... cada um responsavel por suas modificações.</p>
<h4 id="liskov-substitution-principle">Liskov substitution principle</h4>
<p>O cliente deve usar o serviço da classe abstrata (geral) sem saber que ta usando um serviço especifico concreto, por exemplo temos a classe Carro abstrata e as classes concretas Gol e Palio que herdam dessa abstrata, o cliente pode usar o Carro sem saber se o carro é um Gol ou um Palio, isso é mais usado em linguagens com tipagem estática que não é o caso do python.</p>
<h4 id="interface-segregation-principle">Interface segregation principle</h4>
<p>Uma interface não deve obrigar quem a implementar a implementar métodos que não agrega valor a ela, por exemplo, a classe Mamifero tem os métodos que deve ser implementado por Pessoa e Cachorro que são mamiferos, andar e falar, porém cachorro não fala, logo ele não deve ser obrigado a implementar esse método, ele deve criar seu método latir</p>
<h4 id="dependency-inversion-principle">Dependency Inversion Principle</h4>
<p>Uma classe deve depender de classes abstratas/interface e não de suas classes concretas que ta a implementação, é basicamente igual ao Liskov substitution, porém voltado a dependencia uma frabrica de carros deve depender da classe abstrata Carro e não das concretas Gol ou Palio.</p>
<hr />
<h2 id="5-testes">5. Testes</h2>
<hr />
<p><strong>Teste</strong>: processo de detectar o erro inicial</p>
<ul>
<li>
<p>Para rodar os testes execute: <code>make test</code></p>
</li>
<li>
<p>Para roda o coverage: <code>make report</code></p>
</li>
<li>
<p>Para roda o coverage em html: <code>make html</code></p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../medicao/" class="btn btn-neutral float-right" title="Medição e análise">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../arquitetura/" class="btn btn-neutral" title="Arquitetura"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/VictorArnaud/TBL/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../arquitetura/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../medicao/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>

</body>
</html>
